<div class="body">
  <mat-card id="card">
    <mat-card-content class="card-front">
      <!--  Bandeira cartão -->




      <div class="bandeira">
        <img
          src="https://logodownload.org/wp-content/uploads/2014/07/mastercard-logo-7.png"
        />
      </div>




      <!--  Número do cartão -->





      <div class="card-number">
        <div class="card-chip-aproximacao">
          <img
            class="chip"
            src="https://cdn-icons-png.flaticon.com/512/3877/3877368.png"
          />
          <img
            class="aproximacao"
            src="https://imagepng.org/wp-content/uploads/2019/08/nfc-icon.png"
          />
        </div>

        <p
          *ngIf="!forms.get('cardNumber')?.value; else conteudoElse"
          class="preloaded-value-number"
        >
          <i >{{ valorPreCarregado }}</i>
        </p>

        <ng-template #conteudoElse>
          <p> {{ formatarNumero(forms.get("cardNumber")?.value) }}</p>
        </ng-template>




      </div>






      <!-- Val do cartão -->

      <div class="card-name-val">
        <p
          *ngIf="!forms.get('nickName')?.value; else conteudoName"
          class="preloaded-value-name"
        >
          <i>{{ namePreCarregado }}</i>
        </p>

        <ng-template #conteudoName>
          <p>{{ forms.get("nickName")?.value }}</p>
        </ng-template>

        <div>
          <p
            *ngIf="!forms.get('vencimento')?.value; else conteudoVal"
            class="preloaded-value-val"
          >

            <a class="valid">
              <i>VALID</i>
              <i class="thru">THRU</i>
            </a>

            <a>{{ vencimentoPreCarregado }}</a>
          </p>

          <ng-template #conteudoVal>

            {{
              forms.get("vencimento")?.value.slice(0, 2) +
                "/" +
                forms.get("vencimento")?.value.slice(2)
            }}
          </ng-template>
        </div>
      </div>
    </mat-card-content>

    <!-- CÓDIGO DE SEGURANÇA  PARTE DE TRÁS-->

    <mat-card-content class="card-back">
      <p class="description-top">t is a long established fact that a reader</p>
      <div class="barra-preta"></div>

      <div class="cvc">
        <p
          *ngIf="!forms.get('cvc')?.value; else conteudoCvc"
          class="preloaded-value-text"
        >
          <i>CVC</i> {{ cvcPreCarregado }}
        </p>

        <ng-template #conteudoCvc>
          CVC: {{ forms.get("cvc")?.value }}
        </ng-template>
      </div>

      <p class="description-bottom">
        t is a long established fact that a reader will be distracted by the
        readable content of a page when looking at its layout.
      </p>
    </mat-card-content>
  </mat-card>

  <!-- FORMULÁRIO -->

  <form class="content-form" [formGroup]="forms" (ngSubmit)="onSubmit()">
    <div class="row first">
      <!-- Input Número do cartão -->


        <mat-form-field >
          <input


            required
            id="number-card"
            matInput
            type="text"
            placeholder="Número do cartão"
            formControlName="cardNumber"
            maxlength="16"
            (keyup)="numberPre($event)"
            [ngClass]="{ 'preloaded-value': !forms.get('cardNumber')?.value }"
          />
          <mat-error *ngIf="forms.get('cardNumber')?.hasError('cardNumber') && !forms.get('cardNumber')?.hasError('required')">
            Please enter a valid card number
          </mat-error>
          <mat-error *ngIf="forms.get('cardNumber')?.hasError('required')">
           Digite o número do cartão!
          </mat-error>


        </mat-form-field>




      <!-- Input Nome Do usuário -->




        <mat-form-field>
          <input
            id="name-card"
            type="text"
            matInput
            required
            placeholder="Nome"
            formControlName="nickName"
            maxlength="16"
            (keyup)="namePre($event)"
            [ngClass]="{ 'preloaded-value': !forms.get('nickName')?.value }"
          />

          <mat-error *ngIf="forms.get('nickName')?.hasError('nickName') && !forms.get('nickName')?.hasError('required')">
            Please enter a valid name
          </mat-error>
          <mat-error *ngIf="forms.get('nickName')?.hasError('required')">
            Digite seu nome!
          </mat-error>

        </mat-form-field>





    </div>





    <div class="row second">
      <!--  Input Vencimento -->



        <mat-form-field>
          <input
            type="text"
            matInput
            required
            placeholder="Vencimento"
            formControlName="vencimento"
            maxlength="4"
            (keyup)="valPre($event)"
            [ngClass]="{ 'preloaded-value': !forms.get('vencimento')?.value }"
          />

          <mat-error *ngIf="forms.get('vencimento')?.hasError('vencimento') && !forms.get('vencimento')?.hasError('required')">
            Please enter a valid vencimento
          </mat-error>
          <mat-error *ngIf="forms.get('vencimento')?.hasError('required')">
            Digite o vencimento do cartão!
          </mat-error>

        </mat-form-field>


      <!-- Input CÓDIGO DE SEGURANÇA -->




        <mat-form-field>
          <input
            type="text"
            required
            matInput
            placeholder="CVC"
            id="cvc"
            (focus)="virar()"
            (blur)="desfoque()"
            formControlName="cvc"
            maxlength="3"
            (keyup)="cvcPre($event)"
            [ngClass]="{ 'preloaded-value': !forms.get('cvc')?.value }"
          />


          <mat-error *ngIf="forms.get('cvc')?.hasError('cvc') && !forms.get('cvc')?.hasError('required')">
            Please enter a valid cvc
          </mat-error>
          <mat-error *ngIf="forms.get('cvc')?.hasError('required')">
           Digite o código de segurança!
          </mat-error>
        </mat-form-field>


    </div>

    <button
      class="submit-btn"
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="!forms.valid"

    >
      Enviar
    </button>


  </form>
</div>
